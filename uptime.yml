---
- name: Check uptime and identify root inventory
  hosts: all-linux
  gather_facts: no

  tasks:
    - name: XÃ¡c Ä‘á»‹nh inventory gá»‘c
      set_fact:
        root_inventory: >-
          {{
            group_names
            | select('search', '^[a-zA-Z0-9]+$')  # Chá»‰ láº¥y nhÃ³m khÃ´ng chá»©a kÃ½ tá»± Ä‘áº·c biá»‡t
            | difference(['all', 'ungrouped'])
            | first | default('unknown')
          }}

    - name: Láº¥y uptime trÃªn Linux
      command: uptime
      register: uptime_result
      ignore_errors: yes

    - name: Hiá»ƒn thá»‹ thÃ´ng tin
      debug:
        msg: >-
          ğŸ–¥ Host: {{ inventory_hostname }} ({{ ansible_host }})
          ğŸ· Inventory gá»‘c: {{ root_inventory }}
          â³ Uptime: {{ uptime_result.stdout | default('KhÃ´ng láº¥y Ä‘Æ°á»£c') }}
